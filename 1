<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–º–∞–Ω–¥—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</title>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
            background: #0b1a2f;
            margin: 0;
            padding: 20px;
            color: #e6edf3;
        }
        h1 {
            text-align: center;
            font-weight: 500;
            font-size: 2.2rem;
            letter-spacing: 1px;
            margin-bottom: 30px;
            color: #ffd966;
            text-shadow: 0 2px 5px #00000060;
        }
        h2 {
            background: #1e3b5c;
            color: white;
            padding: 12px 20px;
            border-radius: 40px 10px 10px 40px;
            font-weight: 500;
            font-size: 1.8rem;
            margin: 40px 0 20px 0;
            border-left: 8px solid #ffb347;
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        h3 {
            font-weight: 500;
            color: #b8d8fc;
            margin: 30px 0 10px 0;
            font-size: 1.6rem;
            border-bottom: 2px solid #2e4e6e;
            padding-bottom: 5px;
        }
        .table-container {
            overflow-x: auto;
            border-radius: 18px;
            background: #112436;
            box-shadow: 0 20px 30px -10px black;
            margin-bottom: 30px;
            border: 1px solid #2e5270;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
            min-width: 900px;
        }
        th {
            background: #0d2a41;
            color: #ffde9e;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.7px;
            font-size: 0.9rem;
            padding: 16px 8px;
            border-bottom: 3px solid #f39c12;
        }
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #1e405b;
            vertical-align: top;
        }
        tr:hover td {
            background: #173e5a;
        }
        .step {
            font-weight: 700;
            color: #f1c40f;
            text-align: center;
        }
        .cmd {
            font-family: 'JetBrains Mono', 'Cascadia Code', monospace;
            background: #06212e;
            padding: 6px 10px;
            border-radius: 12px;
            color: #a6e22e;
            display: inline-block;
            margin: 2px 0;
            border-left: 4px solid #2ecc71;
            word-break: break-word;
            max-width: 100%;
        }
        .check {
            font-family: 'JetBrains Mono', monospace;
            background: #1a2f3f;
            padding: 6px 10px;
            border-radius: 12px;
            color: #7dc4ff;
            display: inline-block;
            margin: 2px 0;
            border-left: 4px solid #3498db;
        }
        .machine-tag {
            background: #c44536;
            color: white;
            padding: 4px 16px;
            border-radius: 40px;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 10px;
            letter-spacing: 0.5px;
        }
        .note {
            background: #2d4d3b;
            color: #d4edda;
            padding: 8px 16px;
            border-radius: 30px;
            margin: 10px 0 20px;
            font-weight: 500;
            display: inline-block;
        }
        footer {
            text-align: center;
            margin: 50px 0 20px;
            color: #6688aa;
        }
    </style>
</head>
<body>
    
    <p style="text-align:center; color:#bbb; max-width:900px; margin:0 auto 30px;">üîπ <span style="background:#2ecc71; color:#000; padding:3px 12px; border-radius:30px;">–∑–µ–ª—ë–Ω—ã–π</span> ‚Äî –∫–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è &nbsp;&nbsp; üîπ <span style="background:#3498db; color:#000; padding:3px 12px; border-radius:30px;">—Å–∏–Ω–∏–π</span> ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞</p>

    <!-- –ß–ê–°–¢–¨ 1 ‚Äì –°–ï–¢–¨ -->
    <h2>üåê –ß–ê–°–¢–¨ 1 ¬∑ –°–ï–¢–¨ (–∏–º–µ–Ω–∞, IP, NTP, –±–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã)</h2>

    <!-- ======== rtr-cod ======== -->
    <h3>üìå rtr-cod (EcoRouter)</h3>
    <div class="table-container">
        <table>
            <thead><tr><th>#</th><th>–î–µ–π—Å—Ç–≤–∏–µ</th><th>–ö–æ–º–∞–Ω–¥–∞ / –ø—Ä–æ–≤–µ—Ä–∫–∞</th></tr></thead>
            <tbody>
                <tr><td class="step">1</td><td>–ë–∞–∑–æ–≤–æ–µ –∏–º—è</td><td><span class="cmd">enable ‚Üí configure terminal ‚Üí hostname rtr-cod</span><br><span class="check">show hostname</span></td></tr>
                <tr><td class="step">2</td><td>–î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è</td><td><span class="cmd">ip domain-name cod.ssa2026.region</span><br><span class="check">show running-config | include domain-name</span></td></tr>
                <tr><td class="step">3</td><td>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å isp</td><td><span class="cmd">interface isp<br>ip address 178.207.179.4/29<br>description "Connecting to an ISP provider"<br>exit</span><br><span class="check">show ip interface brief</span></td></tr>
                <tr><td class="step">4</td><td>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å fw-cod</td><td><span class="cmd">interface fw-cod<br>ip address 172.16.1.1/30<br>description "Connecting to fw-cod"<br>exit</span><br><span class="check">show ip interface brief</span></td></tr>
                <tr><td class="step">5</td><td>Service Instance te0 (ISP)</td><td><span class="cmd">port te0<br>service-instance te0/isp<br>encapsulation untagged<br>connect ip interface isp<br>exit<br>exit</span><br><span class="check">show service-instance brief</span></td></tr>
                <tr><td class="step">6</td><td>Service Instance te1 (fw-cod)</td><td><span class="cmd">port te1<br>service-instance te1/fw-cod<br>encapsulation untagged<br>connect ip interface fw-cod<br>exit<br>exit</span><br><span class="check">show service-instance brief</span></td></tr>
                <tr><td class="step">7</td><td>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</td><td><span class="cmd">write memory</span></td></tr>
                <tr><td class="step">8</td><td>BGP –ø—Ä–æ—Ü–µ—Å—Å</td><td><span class="cmd">configure terminal<br>router bgp 64500</span><br><span class="check">show ip bgp summary</span></td></tr>
                <tr><td class="step">9</td><td>Router‚ÄëID</td><td><span class="cmd">bgp router-id 178.207.179.4</span><br><span class="check">show ip bgp summary</span></td></tr>
                <tr><td class="step">10</td><td>–°–æ—Å–µ–¥ ISP</td><td><span class="cmd">neighbor 178.207.179.1 remote-as 31133<br>exit</span><br><span class="check">show ip bgp summary</span></td></tr>
                <tr><td class="step">11</td><td>GRE —Ç—É–Ω–Ω–µ–ª—å</td><td><span class="cmd">interface tunnel.0<br>ip address 10.10.10.1/30<br>ip tunnel 178.207.179.4 178.207.179.28 mode gre<br>exit</span><br><span class="check">show interface tunnel.0</span></td></tr>
                <tr><td class="step">12</td><td>NAT outside isp</td><td><span class="cmd">interface isp<br>ip nat outside<br>exit</span></td></tr>
                <tr><td class="step">13</td><td>NAT inside fw-cod</td><td><span class="cmd">interface fw-cod<br>ip nat inside<br>exit</span></td></tr>
                <tr><td class="step">14</td><td>NAT pool fw‚Äëcod</td><td><span class="cmd">ip nat pool fw-cod 172.16.1.1-172.16.1.2</span></td></tr>
                <tr><td class="step">15</td><td>NAT pool vlan100</td><td><span class="cmd">ip nat pool vlan100 192.168.10.1-192.168.10.254</span></td></tr>
                <tr><td class="step">16</td><td>NAT pool vlan300</td><td><span class="cmd">ip nat pool vlan300 192.168.30.1-192.168.30.254</span></td></tr>
                <tr><td class="step">17</td><td>NAT pool vlan400</td><td><span class="cmd">ip nat pool vlan400 192.168.40.1-192.168.40.254</span></td></tr>
                <tr><td class="step">18</td><td>NAT pool vlan500</td><td><span class="cmd">ip nat pool vlan500 192.168.50.1-192.168.50.254</span></td></tr>
                <tr><td class="step">19</td><td>–ü—Ä–∞–≤–∏–ª–æ NAT fw‚Äëcod</td><td><span class="cmd">ip nat source dynamic inside pool fw-cod overload interface isp</span><br><span class="check">show ip nat translations</span></td></tr>
                <tr><td class="step">20</td><td>–ü—Ä–∞–≤–∏–ª–æ NAT vlan100</td><td><span class="cmd">ip nat source dynamic inside pool vlan100 overload interface isp</span></td></tr>
                <tr><td class="step">21</td><td>–ü—Ä–∞–≤–∏–ª–æ NAT vlan300</td><td><span class="cmd">ip nat source dynamic inside pool vlan300 overload interface isp</span></td></tr>
                <tr><td class="step">22</td><td>–ü—Ä–∞–≤–∏–ª–æ NAT vlan400</td><td><span class="cmd">ip nat source dynamic inside pool vlan400 overload interface isp</span></td></tr>
                <tr><td class="step">23</td><td>–ü—Ä–∞–≤–∏–ª–æ NAT vlan500</td><td><span class="cmd">ip nat source dynamic inside pool vlan500 overload interface isp</span></td></tr>
                <tr><td class="step">24</td><td>–°—Ç–∞—Ç–∏–∫–∞ –∫ vlan100</td><td><span class="cmd">ip route 192.168.10.0/24 172.16.1.2</span></td></tr>
                <tr><td class="step">25</td><td>–°—Ç–∞—Ç–∏–∫–∞ –∫ vlan300</td><td><span class="cmd">ip route 192.168.30.0/24 172.16.1.2</span></td></tr>
                <tr><td class="step">26</td><td>–°—Ç–∞—Ç–∏–∫–∞ –∫ vlan400</td><td><span class="cmd">ip route 192.168.40.0/24 172.16.1.2</span></td></tr>
                <tr><td class="step">27</td><td>–°—Ç–∞—Ç–∏–∫–∞ –∫ vlan500</td><td><span class="cmd">ip route 192.168.50.0/24 172.16.1.2</span><br><span class="check">show ip route</span></td></tr>
                <tr><td class="step">28</td><td>OSPF –ø—Ä–æ—Ü–µ—Å—Å</td><td><span class="cmd">router ospf 1</span></td></tr>
                <tr><td class="step">29</td><td>Router‚ÄëID OSPF</td><td><span class="cmd">router-id 10.10.10.1</span></td></tr>
                <tr><td class="step">30</td><td>Passive‚Äëinterface default</td><td><span class="cmd">passive-interface default</span></td></tr>
                <tr><td class="step">31</td><td>–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç—É–Ω–Ω–µ–ª—å</td><td><span class="cmd">no passive-interface tunnel.0</span></td></tr>
                <tr><td class="step">32</td><td>Redistribute static</td><td><span class="cmd">redistribute static</span></td></tr>
                <tr><td class="step">33</td><td>–°–µ—Ç–∏ –≤ area 0</td><td><span class="cmd">network 10.10.10.0/30 area 0<br>network 172.16.1.0/30 area 0<br>exit</span></td></tr>
                <tr><td class="step">34</td><td>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—É–Ω–Ω–µ–ª—è</td><td><span class="cmd">interface tunnel.0<br>ip ospf authentication message-digest<br>ip ospf message-digest-key 1 md5 P@ssw0rd<br>exit</span></td></tr>
                <tr><td class="step">35</td><td>NTP</td><td><span class="cmd">ntp timezone utc+3<br>ntp server 100.100.100.100</span><br><span class="check">show ntp status</span></td></tr>
                <tr><td class="step">36</td><td>SNMP</td><td><span class="cmd">snmp-server enable snmp<br>snmp-server community public ro</span></td></tr>
                <tr><td class="step">37</td><td>RADIUS‚Äë—Å–µ—Ä–≤–µ—Ä</td><td><span class="cmd">security none<br>aaa radius-server 192.168.10.1 port 1812 secret P@ssw0rd auth<br>aaa precedence local radius</span></td></tr>
                <tr><td class="step">38</td><td>–§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</td><td><span class="cmd">write memory</span></td></tr>
            </tbody>
        </table>
    </div>

    <!-- ======== rtr-a ======== -->
    <h3>üìå rtr-a (EcoRouter)</h3>
    <div class="table-container">
        <table>
            <thead><tr><th>#</th><th>–î–µ–π—Å—Ç–≤–∏–µ</th><th>–ö–æ–º–∞–Ω–¥–∞ / –ø—Ä–æ–≤–µ—Ä–∫–∞</th></tr></thead>
            <tbody>
                <tr><td class="step">1</td><td>–ò–º—è + –¥–æ–º–µ–Ω</td><td><span class="cmd">hostname rtr-a<br>ip domain-name office.ssa2026.region</span><br><span class="check">show hostname</span></td></tr>
                <tr><td class="step">2</td><td>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å isp</td><td><span class="cmd">interface isp<br>ip address 178.207.179.28/29<br>exit</span></td></tr>
                <tr><td class="step">3</td><td>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å vl100</td><td><span class="cmd">interface vl100<br>ip address 172.20.10.254/24<br>exit</span></td></tr>
                <tr><td class="step">4</td><td>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å vl200</td><td><span class="cmd">interface vl200<br>ip address 172.20.20.254/24<br>exit</span></td></tr>
                <tr><td class="step">5</td><td>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å vl300</td><td><span class="cmd">interface vl300<br>ip address 172.20.30.254/24<br>exit</span></td></tr>
                <tr><td class="step">6</td><td>Service Instance te0 (ISP)</td><td><span class="cmd">port te0<br>service-instance te0/isp<br>encapsulation untagged<br>connect ip interface isp<br>exit<br>exit</span></td></tr>
                <tr><td class="step">7</td><td>Service‚Äëinstance vl100</td><td><span class="cmd">port te1<br>service-instance te1/vl100<br>encapsulation dot1q 100<br>rewrite pop 1<br>connect ip interface vl100<br>exit</span></td></tr>
                <tr><td class="step">8</td><td>Service‚Äëinstance vl200</td><td><span class="cmd">service-instance te1/vl200<br>encapsulation dot1q 200<br>rewrite pop 1<br>connect ip interface vl200<br>exit</span></td></tr>
                <tr><td class="step">9</td><td>Service‚Äëinstance vl300</td><td><span class="cmd">service-instance te1/vl300<br>encapsulation dot1q 300<br>rewrite pop 1<br>connect ip interface vl300<br>exit<br>exit</span></td></tr>
                <tr><td class="step">10</td><td>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç</td><td><span class="cmd">ip route 0.0.0.0/0 178.207.179.25</span><br><span class="check">show ip route static</span></td></tr>
                <tr><td class="step">11</td><td>GRE —Ç—É–Ω–Ω–µ–ª—å</td><td><span class="cmd">interface tunnel.0<br>ip address 10.10.10.2/30<br>ip tunnel 178.207.179.28 178.207.179.4 mode gre<br>exit</span><br><span class="check">show interface tunnel.0, ping 10.10.10.1</span></td></tr>
                <tr><td class="step">12</td><td>NAT outside isp</td><td><span class="cmd">interface isp<br>ip nat outside</span></td></tr>
                <tr><td class="step">13</td><td>NAT inside vl100/vl200/vl300</td><td><span class="cmd">interface vl100<br>ip nat inside<br>exit<br>interface vl200<br>ip nat inside<br>exit<br>interface vl300<br>ip nat inside<br>exit</span></td></tr>
                <tr><td class="step">14</td><td>NAT pool office</td><td><span class="cmd">ip nat pool office 172.20.0.0-172.20.255.255</span></td></tr>
                <tr><td class="step">15</td><td>NAT –ø—Ä–∞–≤–∏–ª–æ</td><td><span class="cmd">ip nat source dynamic inside pool office overload interface isp</span><br><span class="check">show ip nat translations</span></td></tr>
                <tr><td class="step">16</td><td>OSPF (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ rtr-cod)</td><td><span class="cmd">router ospf 1<br>router-id 10.10.10.2<br>passive-interface default<br>no passive-interface tunnel.0<br>network 10.10.10.0/30 area 0<br>network 172.20.10.0/24 area 0<br>network 172.20.20.0/24 area 0<br>network 172.20.30.0/24 area 0<br>exit</span></td></tr>
                <tr><td class="step">17</td><td>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—É–Ω–Ω–µ–ª—è</td><td><span class="cmd">interface tunnel.0<br>ip ospf authentication message-digest<br>ip ospf message-digest-key 1 md5 P@ssw0rd<br>exit</span></td></tr>
                <tr><td class="step">18</td><td>NTP, SNMP</td><td><span class="cmd">ntp timezone utc+3<br>ntp server 100.100.100.100<br>snmp-server enable snmp<br>snmp-server community public ro</span></td></tr>
                <tr><td class="step">19</td><td>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</td><td><span class="cmd">write memory</span></td></tr>
            </tbody>
        </table>
    </div>

    <!-- ======== fw-cod (Ideco) ======== -->
    <h3>üìå fw-cod (Ideco, –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å + –≤–µ–±)</h3>
    <div class="table-container">
        <table>
            <thead><tr><th>#</th><th>–î–µ–π—Å—Ç–≤–∏–µ</th><th>–ö–æ–º–∞–Ω–¥–∞ / –¥–µ–π—Å—Ç–≤–∏–µ</th></tr></thead>
            <tbody>
                <tr><td class="step">1</td><td>–°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∞</td><td><span class="cmd">–ª–æ–≥–∏–Ω: admin / –ø–∞—Ä–æ–ª—å: P@ssw0rd1234</span></td></tr>
                <tr><td class="step">2</td><td>–ú–µ–Ω—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</td><td><span class="cmd">Ethernet-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (3) ‚Üí –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (3)</span></td></tr>
                <tr><td class="step">3</td><td>–í—ã–±–æ—Ä –ø–æ—Ä—Ç–∞</td><td>–í—ã–±—Ä–∞—Ç—å –ø–æ—Ä—Ç (MAC —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å rtr-cod)</td></tr>
                <tr><td class="step">4</td><td>–ò–º—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</td><td><span class="cmd">to_rtr-cod</span></td></tr>
                <tr><td class="step">5</td><td>–†–æ–ª—å LAN</td><td><span class="cmd">LAN</span></td></tr>
                <tr><td class="step">6</td><td>–ö–æ–Ω—Ç–µ–∫—Å—Ç</td><td><span class="cmd">–ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</span></td></tr>
                <tr><td class="step">7</td><td>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏</td><td><span class="cmd">–í—Ä—É—á–Ω—É—é ‚Üí 172.16.1.2/30</span></td></tr>
                <tr><td class="step">8</td><td>–í—Ä–µ–º–µ–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç</td><td><span class="cmd">ip route add 0.0.0.0/0 via 172.16.1.1</span><br><span class="check">ip r</span></td></tr>
                <tr><td class="step">9</td><td>–í—Ö–æ–¥ –≤ –≤–µ–±</td><td><span class="cmd">https://172.16.1.2:8443 (admin / P@ssw0rd1234)</span></td></tr>
                <tr><td class="step">10</td><td>–ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</td><td>–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí <span class="cmd">fw-cod</span></td></tr>
                <tr><td class="step">11</td><td>–û–±—ä–µ–∫—Ç gateway</td><td>–û–±—ä–µ–∫—Ç—ã ‚Üí IP-–∞–¥—Ä–µ—Å: <span class="cmd">gateway = 172.16.1.1</span></td></tr>
                <tr><td class="step">12</td><td>–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç</td><td>–°–µ—Ä–≤–∏—Å—ã ‚Üí —Ç–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ <span class="cmd">to_rtr-cod</span>, —à–ª—é–∑ <span class="cmd">gateway</span></td></tr>
                <tr><td class="step">13</td><td>–õ–∏—Ü–µ–Ω–∑–∏—è</td><td>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º ‚Üí –ª–∏—Ü–µ–Ω–∑–∏—è ‚Üí –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å</td></tr>
                <tr><td class="step">14</td><td>–ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</td><td>–°–µ—Ä–≤–∏—Å—ã ‚Üí VLAN: –∏–º—è <span class="cmd">to_sw1-cod</span> (–±–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)</td></tr>
                <tr><td class="step">15</td><td>VLAN 100</td><td>VLAN: <span class="cmd">vlan100</span> , —Ç–µ–≥ 100, IP 192.168.10.254/24</td></tr>
                <tr><td class="step">16</td><td>VLAN 300</td><td><span class="cmd">vlan300</span> , —Ç–µ–≥ 300, IP 192.168.30.254/24</td></tr>
                <tr><td class="step">17</td><td>VLAN 400</td><td><span class="cmd">vlan400</span> , —Ç–µ–≥ 400, IP 192.168.40.254/24</td></tr>
                <tr><td class="step">18</td><td>VLAN 500</td><td><span class="cmd">vlan500</span> , —Ç–µ–≥ 500, IP 192.168.50.254/24</td></tr>
                <tr><td class="step">19</td><td>NTP</td><td>–°–µ—Ä–≤–∏—Å—ã ‚Üí NTP‚Äë—Å–µ—Ä–≤–µ—Ä: –¥–æ–±–∞–≤–∏—Ç—å 100.100.100.100</td></tr>
            </tbody>
        </table>
    </div>

    <!-- ======== –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (ALT) ======== -->
    <h3>üìå –í–†–ï–ú–ï–ù–ù–´–ô –ò–ù–¢–ï–†–ù–ï–¢ (ALT, –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π OVS)</h3>
    <div class="table-container">
        <table>
            <thead><tr><th>#</th><th>–î–µ–π—Å—Ç–≤–∏–µ</th><th>–û—Ñ–∏—Å (VLAN 300)</th><th>–¶–û–î (VLAN 300)</th></tr></thead>
            <tbody>
                <tr><td class="step">1</td><td>–°–æ–∑–¥–∞—Ç—å vlan</td><td><span class="cmd">ip link add link ens19 name ens19.300 type vlan id 300</span></td><td><span class="cmd">ip link add link ens19 name ens19.300 type vlan id 300</span></td></tr>
                <tr><td class="step">2</td><td>–ü–æ–¥–Ω—è—Ç—å</td><td><span class="cmd">ip link set dev ens19.300 up</span></td><td><span class="cmd">ip link set dev ens19.300 up</span></td></tr>
                <tr><td class="step">3</td><td>IP –∞–¥—Ä–µ—Å</td><td><span class="cmd">ip addr add 172.20.30.X/24 dev ens19.300</span></td><td><span class="cmd">ip addr add 192.168.30.X/24 dev ens19.300</span></td></tr>
                <tr><td class="step">4</td><td>–®–ª—é–∑</td><td><span class="cmd">ip route add 0.0.0.0/0 via 172.20.30.254</span></td><td><span class="cmd">ip route add 0.0.0.0/0 via 192.168.30.254</span></td></tr>
                <tr><td class="step">5</td><td>DNS</td><td><span class="cmd">echo "nameserver 77.88.8.8" > /etc/resolv.conf</span></td><td><span class="cmd">echo "nameserver 77.88.8.8" > /etc/resolv.conf</span></td></tr>
                <tr><td class="step">6</td><td>–ü—Ä–æ–≤–µ—Ä–∫–∞</td><td colspan="2"><span class="check">ping ya.ru</span></td></tr>
            </tbody>
        </table>
    </div>

    <!-- ======== –∏–º—è —Ö–æ—Å—Ç–∞ ALT ======== -->
    <h3>üìå –ò–ú–Ø –•–û–°–¢–ê (–≤—Å–µ ALT)</h3>
    <div class="table-container">
        <table><tbody><tr><td><span class="cmd">hostnamectl set-hostname –ü–û–õ–ù–û–ï_–ò–ú–Ø.ssa2026.region; exec bash</span><br><span class="check">hostname -f</span></td></tr></tbody></table>
    </div>

    <!-- ======== —É—Å—Ç–∞–Ω–æ–≤–∫–∞ OVS ======== -->
    <h3>üìå –£–°–¢–ê–ù–û–í–ö–ê OPEN VSWITCH (sw1-a, sw2-a, sw1-cod, sw2-cod)</h3>
    <div class="table-container">
        <table><tbody>
            <tr><td><span class="cmd">apt-get update && apt-get install -y openvswitch</span></td></tr>
            <tr><td><span class="cmd">systemctl enable --now openvswitch</span><br><span class="check">systemctl status openvswitch</span></td></tr>
            <tr><td><span class="cmd">sed -i "s/OVS_REMOVE=yes/OVS_REMOVE=no/g" /etc/net/ifaces/default/options</span></td></tr>
            <tr><td><span class="cmd">reboot</span></td></tr>
        </tbody></table>
    </div>

    <!-- ======== –ø–æ–¥–Ω—è—Ç–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ä—Ç–æ–≤ ALT ======== -->
    <h3>üìå –ü–û–î–ù–Ø–¢–ò–ï –§–ò–ó–ò–ß–ï–°–ö–ò–• –ü–û–†–¢–û–í (–≤—Å–µ ALT)</h3>
    <div class="table-container">
        <table><tbody>
            <tr><td><span class="cmd">mkdir /etc/net/ifaces/ens19 /etc/net/ifaces/ens20 ...</span></td></tr>
            <tr><td><span class="cmd">echo -e "TYPE=eth\nBOOTPROTO=static" > /etc/net/ifaces/ens19/options</span> (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ)</td></tr>
            <tr><td><span class="cmd">systemctl restart network</span><br><span class="check">ip a</span></td></tr>
        </tbody></table>
    </div>

    <!-- ======== sw1-a –∫–æ–º–º—É—Ç–∞—Ü–∏—è ======== -->
    <h3>üìå sw1-a (ALT, –æ—Ñ–∏—Å) ‚Äî –∫–æ–º–º—É—Ç–∞—Ü–∏—è</h3>
    <div class="table-container">
        <table><tbody>
            <tr><td><span class="cmd">ovs-vsctl add-br sw1-a</span></td></tr>
            <tr><td><span class="cmd">ovs-vsctl add-port sw1-a ens20 tag=100</span></td></tr>
            <tr><td><span class="cmd">ovs-vsctl add-port sw1-a ens19 trunk=100,200,300</span></td></tr>
            <tr><td><span class="cmd">ovs-vsctl add-port sw1-a ens21 trunk=100,200,300</span></td></tr>
            <tr><td><span class="cmd">ovs-vsctl add-port sw1-a ens22 trunk=100,200,300</span></td></tr>
            <tr><td><span class="cmd">modprobe 8021q; echo "8021q" >> /etc/modules</span></td></tr>
            <tr><td><span class="cmd">mkdir /etc/net/ifaces/mgmt</span></td></tr>
            <tr><td><span class="cmd">echo -e "TYPE=internal\nBOOTPROTO=static\nCONFIG_IPV4=yes\nBRIDGE=sw1-a\nVID=300" > /etc/net/ifaces/mgmt/options</span></td></tr>
            <tr><td><span class="cmd">echo "172.20.30.1/24" > /etc/net/ifaces/mgmt/ipv4address</span></td></tr>
            <tr><td><span class="cmd">echo "default via 172.20.30.254" > /etc/net/ifaces/mgmt/ipv4route</span></td></tr>
            <tr><td><span class="cmd">systemctl restart network</span><br><span class="check">ip a show mgmt</span></td></tr>
            <tr><td><span class="cmd">ovs-vsctl set port mgmt vlan_mode=native-untagged</span></td></tr>
        </tbody></table>
    </div>

    <!-- ======== sw2-a –∫–æ–º–º—É—Ç–∞—Ü–∏—è ======== (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –Ω–æ —Å –¥—Ä—É–≥–∏–º–∏ IP) -->
    <h3>üìå sw2-a (ALT, –æ—Ñ–∏—Å) ‚Äî –∫–æ–º–º—É—Ç–∞—Ü–∏—è</h3>
    <div class="table-container"><table><tbody>
        <tr><td><span class="cmd">ovs-vsctl add-br sw2-a</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw2-a ens22 tag=200</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw2-a ens21 tag=200</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw2-a ens19 trunk=100,200,300</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw2-a ens20 trunk=100,200,300</span></td></tr>
        <tr><td><span class="cmd">modprobe 8021q; echo "8021q" >> /etc/modules</span></td></tr>
        <tr><td><span class="cmd">mkdir /etc/net/ifaces/mgmt; echo -e "TYPE=internal\nBOOTPROTO=static\nCONFIG_IPV4=yes\nBRIDGE=sw2-a\nVID=300" > /etc/net/ifaces/mgmt/options</span></td></tr>
        <tr><td><span class="cmd">echo "172.20.30.2/24" > /etc/net/ifaces/mgmt/ipv4address</span></td></tr>
        <tr><td><span class="cmd">echo "default via 172.20.30.254" > /etc/net/ifaces/mgmt/ipv4route; systemctl restart network</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl set port mgmt vlan_mode=native-untagged</span></td></tr>
    </tbody></table></div>

    <!-- ======== sw1-cod –∫–æ–º–º—É—Ç–∞—Ü–∏—è ======== -->
    <h3>üìå sw1-cod (ALT, –¶–û–î)</h3>
    <div class="table-container"><table><tbody>
        <tr><td><span class="cmd">ovs-vsctl add-br sw1-cod</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw1-cod enp2s29 tag=300</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw1-cod enp2s1 tag=100</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw1-cod enp3s12 tag=200</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw1-cod ens19 trunk=100,200,300,400,500</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-bond sw1-cod bond0 ens21 ens22 bond_mode=active-backup</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl set port bond0 trunk=100,200,300,400,500</span></td></tr>
        <tr><td><span class="cmd">modprobe 8021q; echo "8021q" >> /etc/modules</span></td></tr>
        <tr><td><span class="cmd">mkdir /etc/net/ifaces/mgmt-cod; echo -e "TYPE=internal\nBOOTPROTO=static\nCONFIG_IPV4=yes\nBRIDGE=sw1-cod\nVID=300" > /etc/net/ifaces/mgmt-cod/options</span></td></tr>
        <tr><td><span class="cmd">echo "192.168.30.1/24" > /etc/net/ifaces/mgmt-cod/ipv4address; echo "default via 192.168.30.254" > /etc/net/ifaces/mgmt-cod/ipv4route</span></td></tr>
        <tr><td><span class="cmd">systemctl restart network; ovs-vsctl set port mgmt-cod vlan_mode=native-untagged</span></td></tr>
    </tbody></table></div>

    <!-- ======== sw2-cod –∫–æ–º–º—É—Ç–∞—Ü–∏—è ======== -->
    <h3>üìå sw2-cod (ALT, –¶–û–î)</h3>
    <div class="table-container"><table><tbody>
        <tr><td><span class="cmd">ovs-vsctl add-br sw2-cod</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw2-cod ens21 tag=100</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw2-cod ens22 tag=200</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw2-cod enp2s29 tag=500</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-port sw2-cod enp3s12 tag=400</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl add-bond sw2-cod bond0 ens19 ens20 bond_mode=active-backup</span></td></tr>
        <tr><td><span class="cmd">ovs-vsctl set port bond0 trunk=100,200,300,400,500</span></td></tr>
        <tr><td><span class="cmd">mkdir /etc/net/ifaces/mgmt-cod; echo -e "TYPE=internal\nBOOTPROTO=static\nCONFIG_IPV4=yes\nBRIDGE=sw2-cod\nVID=300" > /etc/net/ifaces/mgmt-cod/options</span></td></tr>
        <tr><td><span class="cmd">echo "192.168.30.2/24" > /etc/net/ifaces/mgmt-cod/ipv4address; echo "default via 192.168.30.254" > /etc/net/ifaces/mgmt-cod/ipv4route</span></td></tr>
        <tr><td><span class="cmd">systemctl restart network; ovs-vsctl set port mgmt-cod vlan_mode=native-untagged</span></td></tr>
    </tbody></table></div>

    <!-- ======== –∫–ª–∏–µ–Ω—Ç—ã NetworkManager ======== -->
    <h3>üìå –ö–õ–ò–ï–ù–¢–´ (cli1-a, cli2-a, cli-cod, admin-cod) ‚Äî NetworkManager</h3>
    <div class="table-container">
        <table><tbody>
            <tr><td><span class="cmd">acc</span> ‚Üí Ethernet-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã ‚Üí F4 ‚Üí –∏–º—è ‚Üí —Ä–µ–∂–∏–º NetworkManager (native)</td></tr>
            <tr><td>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –°–µ—Ç—å ‚Üí —Ä—É—á–Ω–æ–π –≤–≤–æ–¥:</td></tr>
            <tr><td><b>cli1-a (–æ—Ñ–∏—Å):</b> 172.20.20.10/24, —à–ª—é–∑ 172.20.20.254, DNS 172.20.10.10</td></tr>
            <tr><td><b>cli2-a (–æ—Ñ–∏—Å):</b> 172.20.20.11/24, —à–ª—é–∑ 172.20.20.254, DNS 172.20.10.10</td></tr>
            <tr><td><b>cli-cod (–¶–û–î):</b> 192.168.40.10/24, —à–ª—é–∑ 192.168.40.254, DNS 192.168.10.1</td></tr>
            <tr><td><b>admin-cod (–¶–û–î):</b> 192.168.30.10/24, —à–ª—é–∑ 192.168.30.254, DNS 192.168.10.1</td></tr>
            <tr><td><span class="check">ip a ; ping 8.8.8.8</span></td></tr>
        </tbody></table>
    </div>

    <h2>üß† –ß–ê–°–¢–¨ 2 ¬∑ DNS + –î–û–ú–ï–ù</h2>
    <h3>üìå dc-a (Samba DC)</h3>
    <div class="table-container"><table><tbody>
        <tr><td><span class="cmd">apt-get update && apt-get install -y task-samba-dc bind bind-utils</span></td></tr>
        <tr><td><span class="cmd">sed -i 's/^/#/' /etc/bind/local.conf</span></td></tr>
        <tr><td><span class="cmd">control bind-chroot disabled</span></td></tr>
        <tr><td><span class="cmd">echo 'KRB5RCACHETYPE="none"' >> /etc/sysconfig/bind</span></td></tr>
        <tr><td><span class="cmd">echo 'include "/var/lib/samba/bind-dns/named.conf";' >> /etc/bind/named.conf</span></td></tr>
        <tr><td><span class="cmd">vi /etc/bind/options.conf</span> (–≤—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ —Å listen-on, forwarders)</td></tr>
        <tr><td><span class="cmd">rm -f /etc/samba/smb.conf; rm -rf /var/cache/samba; mkdir -p /var/lib/samba/sysvol</span></td></tr>
        <tr><td><span class="cmd">samba-tool domain provision</span> (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ: realm OFFICE.SSA2026.REGION, BIND9_DLZ, –ø–∞—Ä–æ–ª—å)</td></tr>
        <tr><td><span class="cmd">systemctl enable --now samba bind</span></td></tr>
        <tr><td><span class="cmd">cp /var/lib/samba/private/krb5.conf /etc/krb5.conf; systemctl restart samba</span></td></tr>
        <tr><td><span class="check">samba-tool domain info 127.0.0.1</span></td></tr>
        <tr><td><span class="cmd">echo -e "search office.ssa2026.region\nnameserver 127.0.0.1" > /etc/net/ifaces/ens19/resolv.conf; systemctl restart network</span></td></tr>
        <tr><td><span class="cmd">samba-tool dns add 127.0.0.1 office.ssa2026.region rtr-a A 172.20.10.254 -U administrator</span> (–∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏)</td></tr>
    </tbody></table></div>

    <h3>üìå srv1-cod (DNS —Å–µ—Ä–≤–µ—Ä –¶–û–î)</h3>
    <div class="table-container"><table><tbody>
        <tr><td><span class="cmd">apt-get install -y bind bind-utils</span></td></tr>
        <tr><td>–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å <span class="cmd">/etc/bind/options.conf</span> –∏ <span class="cmd">/etc/bind/local.conf</span> (–¥–æ–±–∞–≤–∏—Ç—å –∑–æ–Ω—ã)</td></tr>
        <tr><td><span class="cmd">cp /etc/bind/zone/localhost /etc/bind/zone/cod.ssa2026.region; chown root:named ...</span></td></tr>
        <tr><td><span class="cmd">systemctl enable --now bind</span></td></tr>
        <tr><td><span class="cmd">echo -e "search cod.ssa2026.region\nnameserver 127.0.0.1" > /etc/net/ifaces/ens19/resolv.conf; systemctl restart network</span></td></tr>
        <tr><td><span class="check">nslookup srv1-cod.cod.ssa2026.region 127.0.0.1</span></td></tr>
    </tbody></table></div>

    <h2>‚öôÔ∏è –ß–ê–°–¢–¨ 3 ¬∑ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –°–ï–†–í–ò–°–´ (–µ—Å–ª–∏ —É—Å–ø–µ–µ—Ç–µ)</h2>
    <h3>üìå RADIUS –Ω–∞ srv1-cod</h3>
    <div class="table-container"><table><tbody>
        <tr><td><span class="cmd">apt-get install -y freeradius freeradius-utils; systemctl enable --now radiusd</span></td></tr>
        <tr><td>–¥–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –≤ <span class="cmd">/etc/raddb/clients.conf</span> (rtr-cod, secret P@ssw0rd)</td></tr>
        <tr><td>–¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è <span class="cmd">/etc/raddb/users: netuser Cleartext-Password := "P@ssw0rd"</span></td></tr>
        <tr><td><span class="cmd">systemctl restart radiusd</span><br><span class="check">radtest netuser P@ssw0rd 127.0.0.1 0 testing123</span></td></tr>
    </tbody></table></div>

    <h3>üìå FreePBX –Ω–∞ sip-cod</h3>
    <div class="table-container"><table><tbody>
        <tr><td><span class="cmd">vi /etc/sysconfig/network-scripts/ifcfg-eth0</span> ‚Üí —Å—Ç–∞—Ç–∏–∫–∞ 192.168.50.50/24</td></tr>
        <tr><td><span class="cmd">reboot</span> ; –ø—Ä–æ–≤–µ—Ä–∏—Ç—å <span class="check">ip a</span></td></tr>
        <tr><td>–≤ –±—Ä–∞—É–∑–µ—Ä–µ admin-cod <span class="cmd">http://192.168.50.50</span> , —Å–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∞, –≤–æ–π—Ç–∏</td></tr>
        <tr><td>Settings ‚Üí Advanced Settings ‚Üí SIP Channel Driver = chan_sip</td></tr>
        <tr><td>Settings ‚Üí Asterisk SIP Settings ‚Üí Bind Port = 5060, Apply Config, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞</td></tr>
        <tr><td>Applications ‚Üí Extensions ‚Üí –¥–æ–±–∞–≤–∏—Ç—å SIP –Ω–æ–º–µ—Ä–∞ (101,102...)</td></tr>
    </tbody></table></div>

    <h3>üìå PostgreSQL –Ω–∞ srv2-cod</h3>
    <div class="table-container"><table><tbody>
        <tr><td><span class="cmd">apt-get install -y postgresql17-server; /etc/init.d/postgresql initdb</span></td></tr>
        <tr><td><span class="cmd">systemctl enable --now postgresql</span></td></tr>
        <tr><td>–≤ <span class="cmd">/var/lib/pgsql/data/postgresql.conf</span> ‚Üí listen_addresses = '*'</td></tr>
        <tr><td>–≤ <span class="cmd">pg_hba.conf</span> ‚Üí host all all 192.168.0.0/16 md5; <span class="cmd">systemctl restart postgresql</span></td></tr>
        <tr><td><span class="cmd">createuser -U postgres --superuser --encrypted --pwprompt superadmin</span> (–ø–∞—Ä–æ–ª—å P@ssw0rdSQL)</td></tr>
        <tr><td><span class="cmd">createdb -U postgres -O superadmin superadmin</span></td></tr>
    </tbody></table></div>

    <h3>üìå NTP –Ω–∞ –≤—Å–µ—Ö ALT</h3>
    <div class="table-container"><table><tbody>
        <tr><td><span class="cmd">timedatectl set-timezone Europe/Moscow</span></td></tr>
        <tr><td><span class="cmd">echo "server 100.100.100.100 iburst" >> /etc/chrony.conf</span></td></tr>
        <tr><td><span class="cmd">systemctl restart chronyd</span><br><span class="check">chronyc tracking</span></td></tr>
    </tbody></table></div>

    <footer> –†–µ–≥–∏–æ–Ω 2022-2026</footer>
</body>
</html>
